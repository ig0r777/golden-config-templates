{#
  Cisco Policy-Map Configuration Template
  
  This template implements QoS policies matching the Juniper ASLAN 
  standard for Cisco IOL devices.
  
  Variables:
  - qos_enable: Enable QoS configuration (default: true)
  - qos_profile: QoS profile name (default: "ASLAN")
  
  QoS Actions:
  1. NC (Network Control) - 5% priority
  2. EF (Expedited Forwarding) - 20% priority  
  3. AF41 (Assured Forwarding) - 15% bandwidth
  4. AF31 (Assured Forwarding) - 30% bandwidth
  5. AF11 (Assured Forwarding) - 10% bandwidth
  6. DSCP15 (Custom) - 10% bandwidth
  7. BE (Best Effort) - 10% bandwidth
  8. class-default - Fair queue with WRED
#}
{%- set qos_enable = qos_enable | default(true) -%}
{%- set qos_profile = qos_profile | default("ASLAN") -%}

{%- if qos_enable %}
!
policy-map {{ qos_profile }}-POLICY
 description {{ qos_profile }} QoS Policy matching Juniper CoS
 !
 class NC-CLASS
  priority percent 5
  set dscp cs6
 !
 class EF-CLASS
  priority percent 20
  set dscp ef
 !
 class AF41-CLASS
  bandwidth percent 15
  queue-limit 75 packets
  random-detect dscp-based
  set dscp af41
 !
 class AF31-CLASS
  bandwidth percent 30
  queue-limit 100 packets
  random-detect dscp-based
  set dscp af31
 !
 class DSCP15-CLASS
  bandwidth percent 10
  set dscp 15
 !
 class AF11-CLASS
  bandwidth percent 10
  random-detect dscp-based
  set dscp af11
 !
 class BE-CLASS
  bandwidth percent 10
  random-detect dscp-based
  set dscp default
 !
 class class-default
  fair-queue
  random-detect
!
{%- endif %}